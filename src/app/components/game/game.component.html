<div class="game">

    <div *ngIf="gameOver">
        GAME OVER!
        <br>
        <button (click)="start()">START AGAIN</button>
    </div>

    <div *ngIf="!gameOver">
        <div class="flex-parent">
            <div class="flex-child">
                <div class="hive" style="justify-content: center; align-items: center;">
                    <div>
                        <img src="./assets/hive.png" width="90px">
                    </div>
                    <div class="bee-info">
                        <div class="bee-type">
                            <span>
                                <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="30" height="30" viewBox="0 0 172 172" style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#000000"><path d="M50.16667,14.33333v14.33333h43v7.16667h-57.33333v14.33333h14.33333v7.16667h-28.66667v14.33333h57.33333v7.16667h-64.5v14.33333h93.16667v7.16667h-5.82292c3.58333,3.58333 5.82292,8.5944 5.82292,14.33333h35.83333v-14.33333h-21.5v-7.16667h35.83333v-14.33333h-64.5v-7.16667h57.33333v-14.33333h-86v-7.16667h71.66667v-14.33333h-28.66667v-7.16667h14.33333v-14.33333zM28.66667,100.33333v14.33333h35.83333c0,-5.73893 2.23958,-10.75 5.82292,-14.33333zM86,107.5c-2.1556,0 -4.19922,0.81185 -4.92708,2.23958c-1.42774,1.42774 -2.23958,2.77149 -2.23958,4.92708c0,0.72787 -0.05599,1.51172 0.67188,2.23958c0.72787,2.85547 3.63933,4.92708 6.49479,4.92708c2.85547,0 5.76693,-2.07161 6.49479,-4.92708c0,-0.72786 0.67188,-1.51172 0.67188,-2.23958c0,-2.1556 -0.81185,-3.49935 -2.23958,-4.92708c-0.72786,-1.42774 -2.77149,-2.23958 -4.92708,-2.23958zM43,121.83333v14.33333h35.83333v7.16667h-21.5v14.33333h57.33333v-14.33333h-21.5v-7.16667h35.83333v-14.33333h-22.84375c-2.85547,8.5944 -10.83399,14.33333 -20.15625,14.33333c-9.32226,0 -17.30078,-5.73893 -20.15625,-14.33333z"></path></g></g></svg>
                                <span> Hive </span>
                            </span>
                        </div>
                        <div class="bee-stats">
                            <span> Hive stats: </span>
                        </div>
                        <div class="bee-hp">
                            <span>
                                <svg *ngIf="hive.status === 'healthy'"  xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24" height="24" viewBox="0 0 172 172" style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#2ecc71"><path d="M118.25,21.5c-20.7475,0 -32.25,14.97833 -32.25,14.97833c0,0 -11.5025,-14.97833 -32.25,-14.97833c-21.77233,0 -39.41667,17.64433 -39.41667,39.41667c0,29.89217 35.20267,58.85983 45.01383,68.01167c11.30183,10.535 26.65283,24.08 26.65283,24.08c0,0 15.351,-13.545 26.65283,-24.08c9.81117,-9.15183 45.01383,-38.1195 45.01383,-68.01167c0,-21.77233 -17.64433,-39.41667 -39.41667,-39.41667z"></path></g></g></svg>
                                <svg *ngIf="hive.status === 'warning1'" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24" height="24" viewBox="0 0 172 172" style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#f1c40f"><path d="M118.25,21.5c-20.7475,0 -32.25,14.97833 -32.25,14.97833c0,0 -11.5025,-14.97833 -32.25,-14.97833c-21.77233,0 -39.41667,17.64433 -39.41667,39.41667c0,29.89217 35.20267,58.85983 45.01383,68.01167c11.30183,10.535 26.65283,24.08 26.65283,24.08c0,0 15.351,-13.545 26.65283,-24.08c9.81117,-9.15183 45.01383,-38.1195 45.01383,-68.01167c0,-21.77233 -17.64433,-39.41667 -39.41667,-39.41667z"></path></g></g></svg>
                                <svg *ngIf="hive.status === 'warning2'" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24" height="24" viewBox="0 0 172 172" style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#f1c40f"><path d="M53.75,21.5c-21.77233,0 -39.41667,17.64433 -39.41667,39.41667c0,29.89217 35.20446,58.86151 45.01563,68.01334c11.30183,10.535 26.65104,24.07552 26.65104,24.07552c0,0 15.34921,-13.54052 26.65104,-24.07552c9.81117,-9.15183 45.01563,-38.12118 45.01563,-68.01334c0,-21.77233 -17.64433,-39.41667 -39.41667,-39.41667c-20.7475,0 -32.25,14.97721 -32.25,14.97721c0,0 -11.5025,-14.97721 -32.25,-14.97721zM118.25,35.83333c13.83167,0 25.08333,11.25167 25.08333,25.08333c0,20.9195 -27.01441,45.33902 -37.19108,54.53385c-1.2685,1.14667 -2.36556,2.14295 -3.26139,2.98145c-3.09626,2.88599 -6.38969,5.83199 -9.71419,8.84635v-77.58757l4.19922,-4.47917c0.07166,-0.09317 7.79061,-9.37826 20.88411,-9.37826z"></path></g></g></svg>
                                <svg *ngIf="hive.status === 'sick1'"    xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24" height="24" viewBox="0 0 172 172" style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#e74c3c"><path d="M53.75,21.5c-21.77233,0 -39.41667,17.64433 -39.41667,39.41667c0,29.89217 35.20446,58.86151 45.01563,68.01334c11.30183,10.535 26.65104,24.07552 26.65104,24.07552c0,0 15.34921,-13.54052 26.65104,-24.07552c9.81117,-9.15183 45.01563,-38.12118 45.01563,-68.01334c0,-21.77233 -17.64433,-39.41667 -39.41667,-39.41667c-20.7475,0 -32.25,14.97721 -32.25,14.97721c0,0 -11.5025,-14.97721 -32.25,-14.97721zM118.25,35.83333c13.83167,0 25.08333,11.25167 25.08333,25.08333c0,20.9195 -27.01441,45.33902 -37.19108,54.53385c-1.2685,1.14667 -2.36556,2.14295 -3.26139,2.98145c-3.09626,2.88599 -6.38969,5.83199 -9.71419,8.84635v-77.58757l4.19922,-4.47917c0.07166,-0.09317 7.79061,-9.37826 20.88411,-9.37826z"></path></g></g></svg>
                                <svg *ngIf="hive.status === 'sick2'"    xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24" height="24" viewBox="0 0 172 172" style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#e74c3c"><path d="M118.25,21.5c-20.7475,0 -32.25,14.97833 -32.25,14.97833c0,0 -11.5025,-14.97833 -32.25,-14.97833c-21.77233,0 -39.41667,17.64433 -39.41667,39.41667c0,29.89217 35.20267,58.85983 45.01383,68.01167c11.30183,10.535 26.65283,24.08 26.65283,24.08c0,0 15.351,-13.545 26.65283,-24.08c9.81117,-9.15183 45.01383,-38.1195 45.01383,-68.01167c0,-21.77233 -17.64433,-39.41667 -39.41667,-39.41667zM106.1455,115.455c-1.2685,1.14667 -2.37217,2.14283 -3.268,2.98133c-5.38217,5.01667 -11.74617,10.7715 -16.8775,15.3725c-5.13133,-4.601 -11.5025,-10.363 -16.8775,-15.3725c-0.903,-0.8385 -2.00667,-1.84183 -3.268,-2.98133c-10.17667,-9.19483 -37.18783,-33.61883 -37.18783,-54.53833c0,-13.83167 11.25167,-25.08333 25.08333,-25.08333c13.0935,0 20.683,9.1375 20.88367,9.374l11.36633,12.126l11.36633,-12.126c0.07167,-0.09317 7.79017,-9.374 20.88367,-9.374c13.83167,0 25.08333,11.25167 25.08333,25.08333c0,20.9195 -27.01117,45.3435 -37.18783,54.53833z"></path></g></g></svg>
                                <span [ngClass]="hive.status"><strong> {{ hive.hp }} / {{ hive.total }} </strong></span>
                            </span>
                        </div>
                        <div class="bee-damage">
                            <span>
                                <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24" height="24" viewBox="0 0 172 172" style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#e67e22"><path d="M157.66667,14.33333l-34.48958,2.01563l-66.96354,73.45833l-8.51042,-8.51042l-10.30208,10.30208l11.42188,11.42188l-19.93229,23.51563l-4.70312,-4.70312l-10.07812,10.07813l25.97917,25.97917l10.07813,-10.07812l-4.70312,-4.70312l23.51563,-19.93229l11.42188,11.42188l10.30208,-10.30208l-8.51042,-8.51042l73.45833,-66.96354zM142.4375,29.5625l-0.67187,12.54167l-69.65104,63.38021l-5.59896,-5.59896l63.38021,-69.65104z"></path></g></g></svg>
                                <span class="damage"><strong> - {{ hive.total - hive.hp }} </strong></span>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div style="text-align: center;">
            <button class="hit-button" (click)="damageRandomBee()">HIT</button>
        </div>

        <ng-container *ngIf="damagedBee" >

            <div style="text-align: center;">
                <span style="display: inline-flex;">
                    <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24" height="24" viewBox="0 0 172 172" style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g><path d="M82.41667,14.33333l-10.75,35.83333l-39.41667,-25.08333l17.91667,43l-35.77242,10.34508l35.77242,14.73825l-21.5,32.25l39.41667,-10.75l7.16667,43l21.5,-39.41667l43,17.91667l-21.5,-39.41667l39.41667,-17.91667l-43,-7.16667l25.08333,-39.41667l-43,17.91667z" fill="#ff3d00"></path><path d="M83.86792,46.90583l2.9025,7.25267l4.04917,10.12292l10.06917,-4.1925l11.438,-4.76583l-6.7295,10.57083l-8.72183,13.70267l16.02467,2.66958l8.213,1.37242l-7.31,3.32175l-10.52783,4.78375l5.53625,10.15158l6.86925,12.59542l-14.79558,-6.16692l-8.93683,-3.72308l-4.63683,8.49967l-6.58258,12.06508l-2.0425,-12.26933l-1.9565,-11.73183l-11.47383,3.12825l-11.72108,3.19992l5.57567,-8.3635l7.27058,-10.90767l-12.12242,-4.99517l-7.32792,-3.02075l6.21708,-1.79883l11.57058,-3.34683l-4.62967,-11.11908l-4.76583,-11.438l10.57083,6.7295l11.98625,7.62533l4.08142,-13.60592l1.90633,-6.34608" fill="#ff9e80"></path><path d="M81.48858,78.90858l-13.40525,-10.82525l7.16667,17.91667l-7.16667,10.75l10.75,-3.58333l7.16667,14.33333l3.58333,-17.91667l14.33333,-3.58333l-14.33333,-3.58333l-3.58333,-17.91667z" fill="#fff59d"></path></g></g></svg>
                    <span style="color: var(--sick); margin-right: 10px; margin-left: 10px;">You've just hit a <strong>{{damagedBee.type}}</strong></span>
                    <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24" height="24" viewBox="0 0 172 172" style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g><path d="M82.41667,14.33333l-10.75,35.83333l-39.41667,-25.08333l17.91667,43l-35.77242,10.34508l35.77242,14.73825l-21.5,32.25l39.41667,-10.75l7.16667,43l21.5,-39.41667l43,17.91667l-21.5,-39.41667l39.41667,-17.91667l-43,-7.16667l25.08333,-39.41667l-43,17.91667z" fill="#ff3d00"></path><path d="M83.86792,46.90583l2.9025,7.25267l4.04917,10.12292l10.06917,-4.1925l11.438,-4.76583l-6.7295,10.57083l-8.72183,13.70267l16.02467,2.66958l8.213,1.37242l-7.31,3.32175l-10.52783,4.78375l5.53625,10.15158l6.86925,12.59542l-14.79558,-6.16692l-8.93683,-3.72308l-4.63683,8.49967l-6.58258,12.06508l-2.0425,-12.26933l-1.9565,-11.73183l-11.47383,3.12825l-11.72108,3.19992l5.57567,-8.3635l7.27058,-10.90767l-12.12242,-4.99517l-7.32792,-3.02075l6.21708,-1.79883l11.57058,-3.34683l-4.62967,-11.11908l-4.76583,-11.438l10.57083,6.7295l11.98625,7.62533l4.08142,-13.60592l1.90633,-6.34608" fill="#ff9e80"></path><path d="M81.48858,78.90858l-13.40525,-10.82525l7.16667,17.91667l-7.16667,10.75l10.75,-3.58333l7.16667,14.33333l3.58333,-17.91667l14.33333,-3.58333l-14.33333,-3.58333l-3.58333,-17.91667z" fill="#fff59d"></path></g></g></svg>
                </span>
                <br>
                <span style="color: var(--sick);"><strong>{{bees.length}}</strong> bees left</span>
            </div>
    
            <div style="display: flex; justify-content: center;">
                <app-stats-card [data]="damagedBee" scenario="damaged"></app-stats-card>
            </div>

        </ng-container>
        
        <div class="flex-parent">
            <div *ngFor="let bee of bees" class="flex-child">
                <app-stats-card [data]="bee" scenario="common"></app-stats-card>
            </div>
        </div>
    </div>
    
</div>